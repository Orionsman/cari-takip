<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<meta name="theme-color" content="#0b0d14">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Cari Takip">
<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/static/icon-192.png">
<title>Cari Hesap Takip</title>

<style>
:root{
  --bg:#0b0d14;
  --surface:#13161f;
  --card:#1a1e2e;
  --card2:#20253a;
  --border:#252b42;
  --accent:#5b8cf5;
  --green:#2dd4a0;
  --amber:#f5a623;
  --red:#f06060;
  --text:#dde3f5;
  --sub:#6b738f;
}

body.light{
  --bg:#f4f6fb;
  --surface:#ffffff;
  --card:#ffffff;
  --card2:#f1f3f8;
  --border:#e2e6f0;
  --text:#111827;
  --sub:#6b7280;
}

body{
  background:var(--bg);
  color:var(--text);
  font-family:monospace;
  margin:0;
}

.icon-btn{
  background:var(--card2);
  border:none;
  color:var(--text);
  border-radius:8px;
  width:36px;
  height:36px;
  cursor:pointer;
}

.h-del{ display:none !important; } /* SÄ°LMEYÄ° KALDIRDIK */

</style>
</head>
<body>

<div class="topbar">
  <button class="icon-btn" id="theme-btn">ðŸŒ™</button>
</div>

<div id="h-list"></div>

<script>

// â”€â”€ Utils â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const today = () => new Date().toLocaleDateString('tr-CA');
const fmt   = n => (+(n||0)).toLocaleString('tr-TR',{minimumFractionDigits:2})+" â‚º";
const $     = id => document.getElementById(id);

// â”€â”€ Theme â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function applyTheme(mode){
  if(mode==='light'){
    document.body.classList.add('light');
    $('theme-btn').textContent='â˜€ï¸';
  }else{
    document.body.classList.remove('light');
    $('theme-btn').textContent='ðŸŒ™';
  }
  localStorage.setItem('theme',mode);
}

$('theme-btn').onclick=()=>{
  const isLight=document.body.classList.contains('light');
  applyTheme(isLight?'dark':'light');
};

applyTheme(localStorage.getItem('theme')||'dark');

// â”€â”€ Hareket Render (SÄ°LME YOK) â”€â”€â”€â”€â”€â”€â”€
async function loadHareketler(){
  const rows=[
    {aciklama:"SatÄ±ÅŸ",borc:1000,alacak:0,tarih:"2026-02-19",tur:"satis",bakiye:1000},
    {aciklama:"Ã–deme",borc:0,alacak:500,tarih:"2026-02-20",tur:"odeme",bakiye:500}
  ];

  const el=$('h-list');
  el.innerHTML=[...rows].reverse().map(h=>`
    <div style="background:var(--card);padding:12px;margin:8px;border-radius:10px">
      <div style="display:flex;justify-content:space-between">
        <div>${h.aciklama}</div>
        <div style="color:${h.borc>0?'var(--red)':'var(--green)'}">
          ${h.borc>0?'+'+fmt(h.borc):'-'+fmt(h.alacak)}
        </div>
      </div>
      <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--sub)">
        <div>${h.tarih}</div>
        <div>Bkye: ${fmt(h.bakiye)}</div>
      </div>
    </div>
  `).join('');
}

loadHareketler();

// â”€â”€ Tarih otomatik doldurma â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.addEventListener('DOMContentLoaded',()=>{
  if($('st-tarih')) $('st-tarih').value=today();
  if($('od-tarih')) $('od-tarih').value=today();
});

</script>
</body>
</html>
